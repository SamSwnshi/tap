<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Smart Commute Planner</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Leaflet CSS for interactive maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  </head>

  <body>
    <div class="container">
      <header class="header">
        <h1>🇮🇳 Smart Commute Planner</h1>
        <p>Optimize your daily commute across India with real-time traffic intelligence.</p>
      </header>

      <div class="status-bar">
        <div class="status-grid">
          <div class="status-item">
            <i>📍</i>
            <div>Location Status</div>
            <div id="locationStatus">Detecting...</div>
          </div>
          <div class="status-item">
            <i>🌐</i>
            <div>Network</div>
            <div id="networkStatus">Checking...</div>
          </div>
          <div class="status-item">
            <i>⚡</i>
            <div>Background Tasks</div>
            <div id="backgroundStatus">Ready</div>
          </div>
          <div class="status-item">
            <i>👁️</i>
            <div>Map Observer</div>
            <div id="observerStatus">Active</div>
          </div>
        </div>
      </div>

      <div class="main-content">
        <div class="panel">
          <h2>🛣️ Plan Your Route</h2>
          <form id="routeForm" class="route-form">
            <div class="input-group">
              <label for="startLoaction">From</label>
              <input
                type="text"
                placeholder="Enter starting Location"
                id="startLocation"
                required
              />
            </div>
            <div class="input-group">
              <label for="endLoaction">To</label>
              <input
                type="text"
                placeholder="Enter Destination"
                id="endLocation"
                required
              />
            </div>
            <div class="input-group">
              <label for="departureTime">Departure Time</label>
              <input type="datetime-local" id="departureTime" required />
            </div>
            <div class="input-group">
              <label for="routeType">Route Preference</label>
              <select id="routeType">
                <option value="fastest">Fastest Route</option>
                <option value="shortest">Shortest Route</option>
                <option value="scenic">Scenic Route</option>
                <option value="avoid-traffic">Avoid Traffic</option>
              </select>
            </div>
            <button type="submit" class="btn" id="planRouteBtn">
              <span id="planBtnText">Plan Route</span>
              <span id="planBtnLoader" class="loading" style="display: none;"></span>
            </button>
          </form>
          <div class="saved-routes">
            <h3>Saved Routes</h3>
            <div id="savedRoutesList"></div>
          </div>
        </div>
        <div class="panel">
          <h2>Interactive Map</h2>
          <div class="map-container"  id="mapContainer">
            <div class="map-placeholder">
              <div style="font-size: 48px; margin-bottom: 20px;">🗺️</div>
              <div>Map will load here</div>
              <div>Using Intersection Observer for lazy loading</div>
            </div>
            <div class="traffic-indicatior traffic-low" id="trafficIndicator">Traffic: Low</div>
          </div>
        </div>
      </div>

      <div class="panel">
        <h2>Route Option</h2>
        <div class="routes-list" id="routesList">
          <div class="route-item" style="text-align: center; color: #718096">
            Plan a route to see option here
          </div>
        </div>
      </div>

      <div class="panel analytics-panel">
        <h2>Commute Analytics</h2>
        <div class="analytics-grid">
          <div class="analytics-card">
            <h3>Average Commuete Time</h3>
            <div class="value" id="avgTime">--</div>
            <div>Minutes</div>
          </div>
          <div class="analytics-card">
            <h3>Time Saved This Week</h3>
            <div class="value" id="timeSaved">--</div>
            <div>Minutes</div>
          </div>
          <div class="analytics-card">
            <h3>Routes Optimized</h3>
            <div class="value" id="routesOptimized">--</div>
            <div>this month</div>
          </div>
          <div class="analytics-card">
            <h3>Carbon Footprint</h3>
            <div class="value" id="carbonSaved">--</div>
            <div>kg C02 Saved</div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>&copy; 2025 Created by Sameer Suryawanshi</p>
    </footer>

    <div class="notification" id="notification"></div>

    <!-- Leaflet JS for interactive maps -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
  </body>
</html>
